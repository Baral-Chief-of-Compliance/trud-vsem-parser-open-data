version: '3.7'

services:
  database:
    container_name: parser-trudvsem-postgres
    restart: always
    ports:
      - "3333:5432"

    env_file:
      - ./env-params/database.env

    image: postgres:17.6-trixie

    volumes:
      - ./pg_data:/var/lib/postgresql/data

  api-service:
    container_name: parser-trudvsem-api-service
    build:
      context: ./src
      dockerfile: Dockerfile
    restart: always
    ports:
     - "8000:8000"

    env_file:
     - ./env-params/api-service.env